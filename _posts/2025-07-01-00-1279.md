---
layout: post
title:  "卡顿分析"
image: ''
date:   2025-07-01 11:48:30
tags:
- Cocos
description: ''
categories: 
- Cocos
---
## 1. CPU耗时
1. 逻辑耗时
2. 物理世界耗时
## 2. GPU耗时
1. 渲染耗时

### CPU耗时 + GPU耗时 + 带宽耗时 小于 (1 / 60 ≈ 0.1666秒)的话跑满60帧没有问题。
## 带宽
#### 在 GPU 渲染中，“带宽”通常指的是：

| 类型       | 含义                            |
| -------- | ----------------------------- |
| **内存带宽** | CPU ⇄ GPU 之间的数据传输能力（比如纹理、缓冲区） |
| **显存带宽** | GPU 内部读取纹理 / 渲染目标时的吞吐能力       |
| **总线带宽** | 整个 GPU 子系统在一帧中可以吞吐的数据量        |

有些时候CPU和GPU耗时都比较低的情况下,帧率却比较低,可能就是带宽问题,就像高速路堵车导致时间都卡在数据搬运上了。  
比如有些手机硬件性能差(比如vivo拍照手机GPU填充率比较低),这种可以使用压缩纹理来降低数据传输量尝试解决。  
#### 典型表现就是
| 现象                                | 说明                |
| --------------------------------- | ----------------- |
| stats 显示 CPU/Renderer 开销很低，但帧率就是低 | GPU 忙于搬运数据（内存带宽满） |
| 渲染内容 overdraw 严重（透明叠加）            | 显存带宽吃紧            |
| 使用很多大纹理或动态贴图                      | 纹理带宽吃紧            |
| 一帧数据量远超 1080p                     | 总线传输慢、耗尽吞吐        |
